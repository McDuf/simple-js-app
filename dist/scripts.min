let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.other["official-artwork"].front_default,e.criesUrl=t.cries.latest,e.stage=t.species.name,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name),e.id=t.id,e.hp=t.stats.find(e=>"hp"===e.stat.name).base_stat,e.abilities=t.abilities.map(e=>e.ability.name)}).catch(function(e){console.error(e)})}function l(e){let t=document.querySelector("#modal-content"),n=document.querySelector(".modal-title"),i=document.querySelector(".modal-header"),l=document.querySelector(".modal-body"),o=document.querySelector(".modal-footer");t.appendChild(n),t.appendChild(i),t.appendChild(l),t.appendChild(o),n.innerHTML="",i.innerHTML="",l.innerHTML="",o.innerHTML="";let r=document.createElement("button");r.classList.add("close"),r.innerHTML="&times";let d=document.createElement("sup");d.innerHTML="<h1>basic</h1>";let c=document.createElement("h3");c.innerText=e.name;let s=document.createElement("h4");s.innerHTML="<small>HP </small>"+e.hp;let p=document.createElement("img");p.classList.add("modal-img"),p.src=e.imageUrl;let m=document.createElement("sub");m.innerText="NO. "+e.id+"  ";let h=document.createElement("sub");h.innerText=e.types+"";let u=document.createElement("sub");u.innerText=" HT: "+e.height+'"   ';let f=document.createElement("sub");f.innerText=" WT: "+e.weight+"lbs ";let E=document.createElement("div");e.abilities.forEach(e=>{let t=document.createElement("h4");t.innerText=e,E.appendChild(t)}),i.appendChild(d),i.appendChild(c),i.appendChild(s),l.appendChild(p),l.appendChild(m),l.appendChild(h),l.appendChild(u),l.appendChild(f),o.appendChild(E),n.appendChild(r),window.addEventListener("click",e=>{e.target!=t&&a()})}function a(e){$("#modal-container").modal("hide")}function o(e){i(e).then(function(){l(e),$("#modal-container").modal("show")})}return{add:t,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),i=document.createElement("li"),l=document.createElement("button");l.innerText=t.name,l.classList.add("btn","btn-primary","pokemon-button"),i.append(l),n.append(i),l.addEventListener("click",function(e){o(t)})},getEmAll:n,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=180").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,showDetails:o,showModal:l,hideModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getEmAll().forEach(function(e){pokemonRepository.addListItem(e)})});